\documentclass[12pt,oneside]{fithesis2}
\usepackage[slovak]{babel}       % Multilingual support
\usepackage[utf8]{inputenc}       % UTF-8 encoding
\usepackage[T1]{fontenc}          % T1 font encoding
\usepackage[                      % A sans serif font that blends well with Palatino
  scaled=0.86
]{berasans}
\usepackage[                      % Clickable links
  plainpages = false,               % We have multiple page numberings
  pdfpagelabels                     % Generate pdf page labels
]{hyperref}
\usepackage{listings}             % Include the listings-package

\usepackage{caption}
\captionsetup[lstlisting]{position=bottom}

\thesislang{sk}                   % The language of the thesis
\thesistitle{Portál pre písanie a vyhodnocovanie diktátov}       % The title of the thesis
\thesissubtitle{Diplomová práca}  % The type of the thesis
\thesisstudent{Bc. Jakub Rumanovský}          % Your name
\thesiswoman{false}                % Your gender
\thesisfaculty{fi}                % Your faculty
\thesisyear{Jeseň \the\year}     % The academic term of your thesis defense
\thesisadvisor{Mgr. Marek Grác, Ph.D.}   % Your advisor

\begin{document}
  \FrontMatter                    % The front matter
    \ThesisTitlePage                % The title page
    \begin{ThesisDeclaration}       % The declaration
      \DeclarationText
      \AdvisorName
    \end{ThesisDeclaration}
    \begin{ThesisThanks}            % The acknowledgements (optional)
      Ďakujem vedúcemu práce Mgr. Marekovi Grácovi, Ph.D. za vedenie, trpezlivosť a rady pri písaní diplomovej
       práce a mojej rodine, kamarátom a priateľke za podporu.
    \end{ThesisThanks}
    \begin{ThesisAbstract}          % The abstract
      Úlohou diplomovej práce je vytvorenie diktátového webového systému určeného predovšetkým žiakom základných
      a stredných škôl a ich učiteľom. Žiakom bude poskytovať možnosť trénovať diktáty a okamžite vidieť výsledky a štatistiky. Učiteľom umožní spravovať pridelené skupiny žiakov rozdelených do skupín - školských tried a nahrávať diktáty. Portál bude tiež poskytovať verejné rozhranie slúžiace na opravu diktátov, ktoré bude zároveň použiteľné ako služba.
    \end{ThesisAbstract}
    \begin{ThesisAbstracten}          % The abstract EN

      The aim of this Master thesis is to create a dictate web system, which can be used mainly by pupils of
      elementary school and high school and their teachers. For pupils, it will offer the possibility of training dictates and they will see the results and statistics immediately. For teachers, it will provide the grouping of pupils to school classes that will be administrated by teachers and possibility for upload of dictate. The web portal will also offer public REST API for correcting the dictates, which will be also usable as a service.
    \end{ThesisAbstracten}
    \begin{ThesisKeyWords}          % The keywords
      dictate, trainer, correction module, grammar correction, Java EE
    \end{ThesisKeyWords}
    \tableofcontents                % The table of contents
%   \listoftables                   % The list of tables (optional)
%   \listoffigures                  % The list of figures (optional)
  
  \MainMatter                     % The main matter
    \chapter{Úvod}          % Chapters
  
  \par Informačné technológie sa v súčasnosti dostávajú do stále väčšieho množstva odvetví ľudskej činnosti. Sú medzi nimi aj také oblasti, v akých by sme ich ešte pred pár rokmi nevedeli predstaviť. V mnohých z nich majú nepopierateľne obrovský potenciál rozvoja. Jedným z príkladov takéhoto odvetvia je e-learning, alebo slovensky vzdelávanie prostredníctvom
informačných technológií. V posledných rokoch došlo k rapídnemu rozvoju tejto oblasti. Prispeli k tomu
      nemalou mierou aj niektoré renomované univerzity \cite{crimson15}, ktoré poskytujú svoje kurzy zdarma alebo za menší poplatok. Táto evolúcia vzdelávania poskytuje nespočetné možnosti pre každého, kto má záujem. Je dokonca možné absolvovať vopred vybrané kurzy a získať certifikát, ktorý potom možno uviesť ako doplnkové vzdelanie v životopise a preukázať tak svoju kompetenciu v určitom odvetví alebo činnosti. Z horeuvedených príkladov je vidno, že e-learning v akejkoľvek forme má zmysel aj potenciál a prináša nesporné výhody pre žiakov, študentov aj vyučujúcich. 
  \par K dôležitým schopnostiam každého človeka, či už v profesionálnom alebo súkromnom živote, patrí písomný prejav. Jeden z jeho najpodstatnejších aspektov je správna gramatika a pravopis. Tie sa žiaci učia na školách od najútlejšieho veku a osvojovanie gramatiky prebieha už niekoľko desaťročí rovnakým spôsobom. Ku klasickým nástrojom na trénovanie správneho pravopisu patrí písanie diktátov. Do tejto oblasti moderné technológie ešte celkom nestihli preniknúť. Diktát sa píše na papier a následne je opravovaný a hodnotený učiteľom.
  \par Pretože v súčasnej dobe neexistuje aplikácia, ktorá by používateľovi umožňovala trénovať diktáty za pomoci počítača, je v nasledujúcom texte navrhnutý webový portál, ktorý slúži ako doplnok, poprípade alternatíva k testovaniu gramatiky v škole. Žiak sa môže kedykoľvek, či už na popud učiteľa alebo z vlastnej vôle, otestovať v písaní. Aplikácia si kladie za cieľ rozšíriť písanie a korekciu diktátov, ktorá sa momentálne píše žiakmi a opravuje učiteľmi, o výhody, ktoré ponúkajú informačné technológie. Konkrétne medzi ne patria rýchlejšia -- a hlavne automatická -- oprava chýb, možnosť ukladania a následného analyzovania chýb v širšom kontexte (či už v prípade konkrétneho študenta alebo prípadne celej triedy) a v neposlednom rade tiež zobrazenie týchto chýb v štatistike.
  \par Portál má už v dobe písania tejto práce niekoľko záujemcov, ktorí sa budú podieľať na funkčnom testovaní. Jednak sú to vybrané základné školy a jednak sa bude systém využívať na Pedagogickej fakulte Masarykovej univerzity pri výuke budúcich pedagógov.
    
    \section{Ciele práce}
    Úlohou tejto diplomovej práce je vytvorenie webového systému na komplexnú prácu s diktátmi, pričom je vopred určená vývojová platforma Java Enterprise Edition. Tento systém bude pozostávať z:

\begin{enumerate}
\item Administračnej časti pre vyučujúcich, ktorá bude obsahovať
	\begin{itemize}
	\item Možnosť nahrania vlastného diktátu a doplnenie anotácií k diktátu priamo v prostredí
	\item Základné štatistiky o využívaní jednotlivých diktátov
	\item Prácu so skupinami používateľov
	\end{itemize}
\item Používateľskej časti pre študentov, v ktorej bude možné
	\begin{itemize}
	\item Prihlásiť sa pomocou mailu alebo sociálnych sietí
	\item Písať diktáty a nechať si ich po napísaní opraviť
	\end{itemize}
\item Samostatného modulu integrovaného s webovou aplikáciou, ktorá bude dostupná cez definované rozhranie a bude implementovať pravidlá nájdené počítačovými lingvistami. Tieto pravidlá detekujú a pridávajú zdôvodnenia pre vybrané jazykové javy v češtine.
\end{enumerate}
\pagebreak
    \section{Štruktúra práce}
    
    \textbf{Kapitola 1 -  Úvod} uvádza čitateľa do problematiky výučby za pomoci výpočtovej techniky a popisuje motiváciu písania práce. \\
    \textbf{Kapitola 2 - Analýza systému} zahŕňa analýzu súčasného stavu a možností trénovania diktátov za pomoci počítača. Plynule prechádza k popisu navrhovaného systému, popisuje jeho výhody oproti súčasnému stavu a špecifikuje požiadavky na aplikáciu. \\
    \textbf{Kapitola 3 - Návrh a implementácia systému} obsahuje popis návrhu diktátového systému, poprípade popisuje niektoré implementačné detaily, pokiaľ nie sú jasné. Na začiatku sa kapitola venuje problémom a slepým vetvám vývoja systému s odôvodnením, prečo konkrétny popisovaný jav alebo požiadavka bola nakoniec riešená iným spôsobom. Kapitola tiež zahŕňa popis štruktúry aplikácie a postupne sa venuje zvlášť každej vrstve. \\
    \textbf{Kapitola 4 - Modul na opravu diktátov} obsahuje popis samostatného modulu na opravu diktátov, ktorý je integrovaný spoločne s aplikáciou. Rozhodol som sa ho, kvôli väčšej prehľadnosti, presunúť do samostatnej kapitoly. Tá zahŕňa analýzu a návrh modulu ako aj popis fungovania a v prípade potreby aj implementačné detaily. \\
	\textbf{Kapitola 5 - Testovanie systému} popisuje spôsob testovania portálu pre písanie a vyhodnocovanie diktátov. \\
	\textbf{Kapitola 6 - Nasadenie systému} sa venuje detailom nasadenia systému a použitým technológiám. \\
	\textbf{Kapitola 7 - Záver} zhŕňa dosiahnuté výsledky a popisuje plány a rozšírenia do budúcnosti.
    
    
    \chapter{Analýza systému}

       \section{Existujúce riešenia}       
       		\subsection{Štruktúra existujúcich riešení}
       				\par Ako bolo zmienené vyššie, pri výuke gramatiky hrá ešte stále významnú úlohu zbierky diktátov, z ktorých je potom diktát diktovaný učiteľom v triede počas vyučovania. Zbierka diktátov slúži ako doplnok k učebniciam českého jazyka, pretože učebnice (kvôli obmedzenému rozsahu), nemôžu prinášať dostatočnú zásobu učiva k precvičovaniu pravopisu.
       				\par Taktiež existuje veľká skupina cvičení zadarmo dostupných na internete. Prášilová\cite{prasilova14} ich však vo svojej diplomovej práci nazýva skôr ako diktátmi doplňovacími cvičeniami. Výhodou takejto formy je podľa nej okamžité vyhodnotenie, ktoré však nemusí byť príliš dobrý motivačný prvok. V svojej diplomovej práci tiež uvádza, že by doplňovacie cvičenia mali slúžiť hlavne k precvičovaniu, nie ku klasifikácii.
       				\par Ďalšou skupinou existujúcich riešení sú audiodiktáty, ktoré sú postavené na rovnakých textoch ako zbierky diktátov. Nevýhodou týchto diktátov sú technické problémy, ku ktorým môže dochádzať počas diktovania (napr. šum, preskakovanie). Ku komplikáciám môže podľa Prášilovej tiež dochádzať vo chvíli keď žiak zle rozumel, chce sa spýtať, tým sa dostane do sklzu a stráca pozornosť. Hlavnú nevýhodu však vidí v nemožnosti prispôsobiť tempo danej skupine. Výhodu potom vidí v zvýšenej pozornosti, ktorú môže učiteľ žiakom venovať namiesto čítania textu.
		\par V súčasnosti sa na internete objavujú aj celé portály zamerané na precvičovanie gramatických javov. Jedným z zo zástupcov je portál \textit{pravopisne.cz}, ktorý ponúka širokú paletu rôznych gramatických cvičení, zahŕňajúcu doplňovačky, gramatickú teóriu, hry na precvičovanie pravopisu a gramatických javov ako aj tzv. audiodiktáty. Tieto však fungujú tak, že si žiak zvukový súbor cez prehliadač spustí a píše na papier a potom ho porovná so správnym riešením dostupným na stránke pri skončení cvičenia. Ďalším portálom dostupným na internete je web \textit{umimcesky.cz}. Na tomto portáli si žiak precvičuje gramatické javy pomocou testových otázok (väčšinou typu vyber správnu možnosť) a po označení odpovede sa zobrazí, či bola správna a ak áno, prečo boli ostatné nesprávne.
		
       		\subsection{Problémy v existujúcich riešeniach}
       		\subsection{Výhody a nevýhody existujúcich riešení}
       \section{Navrhovaný systém}
       		\subsection{Špecifikácia požiadaviek} \label{spec-app}
\par Požiadavka je neformálna špecifikácia niečoho, čo má byť implementované. Požiadavky sa delia na funkčné a nefunkčné. Funkčné požiadavky (FP) určujú aké chovanie bude systém bude systém ponúkať. Nefunkčné požiadavky (NFP) špecifikujú vlastnosti alebo obmedzujúce podmienky daného systému. Požiadavky sú základom všetkých systémov, sú v podstate vyjadrením toho, čo by mal systém robiť, avšak nie toho ako by to mal robiť\cite{arlow11}.
       		
\bigskip
     \textbf{NFP1 Na vývoj systému je použitá platforma Java EE}
     \par Je definovaná konkrétna platforma, s použitím ktorej je portál vyvíjaný, pričom použité technológie v rámci platformy nie sú vopred dané a ich výber je špecifikovaný neskôr v texte.
     
\bigskip
     \textbf{NFP2 Jednoduchá rozšíriteľnosť}      		
	\par Webový systém na komplexnú prácu s diktátmi by mal byť ľahko rozšíriteľný o novú funkcionalitu, najmä ďalej zmienený samostatný modul určený na opravu používateľom napísaného textu.
	
\bigskip
     \textbf{FP1 Používateľské role}  
     \par V systéme budú vytvorené nasledujúce používateľské role s rôznou úrovňou oprávnení:
\begin{itemize}
	\item ADMINISTRATOR - používateľská rola je slúžiť na správu systému. Jeho hlavnou úlohou je pridávať používateľov role učiteľ (definovanej nižšie) a priradiť im skupiny používateľov do ich správy. Budú mať tiež možnosť spravovať portál, jeho používateľov, diktáty a podobne.
	\item TEACHER - rola reprezentujúca učiteľa. Má možnosť pridávať nový diktát, spravovať priradenú skupinu používateľov.
	\item STUDENT - má možnosť listovať dostupnými diktátmi, trénovať diktát, vidieť vlastné štatistiky a upravovať vlastný profil.
\end{itemize}

\bigskip
     \textbf{FP2 Správa skupín používateľov}  
     \par Učiteľovi je pridelená skupina, alebo skupiny používateľov (triedy v rámci školy), ktorú môže spravovať a vidieť ich štatistiky chýb v diktátoch, počet pokusov a podobne.
     
\bigskip
     \textbf{FP3 Nahrávanie diktátov do systému}  
     \par V systéme je možné nahrávať audiosúbor s diktátom a priradiť k nemu popisné informácie priamo v prostredí portálu.     

\bigskip
     \textbf{FP4 Používateľské štatistiky}  
     \par Je možné určeným skupinám používateľov zobraziť základné štatistiky používateľov a diktátov.
     
\bigskip
     \textbf{FP5 Prihlasovanie používateľov pomocou mailu alebo sociálnych sietí}  
	\par Každý používateľ má možnosť sa prihlásiť klasicky pomocou mailovej adresy, alebo sociálnych sietí.
	
\bigskip
     \textbf{FP6 Registrácia používateľov}
     \par Používateľ má možnosť sa pri prvom vstupe na portál zaregistrovať zvoleným emailom a heslom.
     
\bigskip
     \textbf{FP7 Písanie diktátov a ich oprava} 
     \par Žiak si môže napísať diktát a po jeho napísaní si ho nechať systémom automaticky opraviť.
     
\bigskip
     \textbf{FP8 Samostatný modul integrovaný s webovou aplikáciou určený na opravu diktátov} 
     \par Portál obsahuje samostatný modul slúžiaci na opravu diktátov, ktorý je prístupný cez známe rozhranie. Prístupný je komukoľvek, kto ho chce použiť. Rozhranie aj kód budú riadne zdokumentované a pripravené na rozširovanie.         

\bigskip
     \textbf{FP9 Implementácia pravidiel nájdených počítačovými lingvistami}      		
	\par V rámci portálu budú implementované pravidlá nájdené počítačovými lingvistami, ktoré budú detekovať a pridávať zdôvodnenia pre vybrané jazykové javy v češtine.

    \subsection{Výhody a nevýhody navrhovaného systému}
    \pagebreak

    \chapter{Návrh a implementácia systému}
    
    \par Webový systém je rozdelený na tri časti. \textit{Dátovú vrstvu}, označovaná anglickým slovom backend, ktorá sa stará o ukladanie dát a navonok je možné k nej pristupovať pomocou tzv. REST endpointov – známych adries, ktoré po obdržaní dát v správnom formáte v JSON vrátia požadované údaje v definovanej forme.
	\par Druhou časťou je \textit{prezentačná vrstva}, známa aj pod anglickým ekvivalentom frontend, ktorá bude komunikovať s vrstvou prístupu k dátam skrz REST rozhrania. Tieto sú zabezpečené proti neoprávnenému prístupu neautorizovaného používateľa. Ten sa bude musieť na získanie oprávnenia zaregistrovať. Registrovať je možné iba užívateľov role STUDENT (žiaci), učiteľ (rola TEACHER) musí požiadať o vytvorenie účtu administrátora (rola ADMINISTRATOR). Overenie prístupu prebieha zavolaním špeciálnej adresy, definovanej v jednej z následujúcich kapitol spolu s užívateľským menom a heslom a následným povolením/odmietnutím prístupu na základe týchto údajov. Prezentačná vrstva je navrhnutá ako tzv. jednostránková aplikácia (skrátene SPA -- Single Page Application). SPA sú webové aplikácie, ktoré načítajú jediný HTML stránku a potom ju dynamicky obnovujú podľa toho, ako s ňou používateľ komunikuje\cite{wasson13}.
	    \par Pri implementácii systému je kladený dôraz na použitie moderných technológií a štruktúra je navrhnutá tak, aby sa ktorákoľvek súčasť dala v prípade potreby rýchlo nahradiť inou bez nutnosti zásahu do iných vrstiev systému. V následujúcich sekciách sú postupne uvedené použité technológie podľa príslušnosti k vrstve systému.
	    \par Poslednou časťou je samostatný modul nasadený spoločne s aplikáciou, slúžiaci na opravu chýb. Takisto ako k backendu, je k nemu možné pristupovať skrz REST rozhranie. Jeho úlohou je vo vstupnom texte od užívateľa odhaliť chyby, označiť ich, zozbierať o každej chybe čo najviac informácií a na základe týchto potom zaradiť chyby do kategórií (definovaných v prílohe \ref{typy-chyb}) a priradiť k ním zodpovedajúci popis. Rozhranie je možné použiť aj ako službu aplikáciami tretích strán. Štruktúra modulu je do hĺbky rozobratá v kapitole \ref{modul-diktaty} a popis rozhrania vrátane správneho vstupu a výstupu je popísaný v prílohe \ref{navod_oprava}.
	\pagebreak
	
	\section{Problémy a slepé vetvy pri návrhu systému}
       		
	\par Pri návrhu systému sa vyskytlo niekoľko problémov, ktorým bolo možné jednoducho zamedziť dôkladnejšie vykonanou analýzou a/alebo hlbšími znalosťami technológií. V tejto podkapitole budú spomenuté tie najzávažnejšie.
	
	\subsection{Java Server Faces}
	
	\par Z hľadiska použitých technológií v prezentačnej vrstve aplikácie (viď štruktúra aplikácie - kapitola \ref{app-layers}) sa najprv uvažovalo o použití Java Server Faces (skrátene JSF), resp. niektorej z jeho variant. JSF je framework pre programovací jazyk Java, ktorý zjednodušuje tvorbu webových užívateľských rozhraní za pomoci znovupoužiteľných komponent. Tie sú uložené na strane servera v pamäti a pri užívateľskej požiadavke vytvoria kompletný vzhľad stránky, ktorý je potom odoslaný klientovi. To si vyžaduje jednu vrstvu abstrakcie naviac\cite{hades14}. Tento koncept bol opustený z dôvodu zbytočnej rozsiahlosti a zložitosti frameworku pre navrhovanú aplikáciu.

	\subsection{JSON Web Token (JWT)} \label{jwt}
	\par Počas implementácie funkčnej požiadavky 5 - Prihlasovanie pomocou sociálnych sietí sa objavila možnosť implementovať prihlasovanie iným spôsobom -- pomocou autentifikácie na základe tzv. tokenu. Nižšie je krátke porovnanie s klasickou autentifikáciou a sú uvedené výhody a nevýhody jednotlivých prístupov.
	\par Klasická autentifikácia prebieha tak, že sa používateľ prihlási na server a ako odpoveď dostane tzv. buď priamo údaje o používateľovi, ktoré sa potom uložia do cookie, aby s nimi aplikácia mohla pracovať (tento postup sa však s bezpečnostného hľadiska neodporúča), alebo je odpoveďou cookie s identifikátorom sedenia (angl. session). Problém sedenia je v prvom rade jeho neuniverzálnosť, pokiaľ chceme použiť viac spôsobov prihlasovania. Riešením je tzv. autentifikácia založená na tokene\cite{yt14}.
	\par JSON Web token (skrátene JWT) je autentifikačný token reprezentovaný pomocou JSON objektu. Zakódovaný token pozostáva z troch podreťazcov zakódovaných pomocou kódovania \textit{Base64}\footnote{Kódovanie ktoré prevádza binárne dáta (v tomto prípade oktety UTF-8) na postupnosť tlačiteľných znakov} a oddelených od seba znakom ".". Prvý podreťazec nesie zakódované informácie definujúce samoté JWT (tzv. dáta o dátach alebo metadáta), druhá časť tokenu obsahuje samotné dáta a posledná časť obsahuje tzv. tajomstvo. Overenie je možné vykonať jednoducho dekódovaním dát na strane servera. Token je uložený lokálne v prehliadači klienta, tzn. že nie je potrebné udržiavať sedenie pre každého používateľa na strane servera. Overenie prihlásenia je možné jednoduchou kontrolou, či existuje token v úložisku prehliadača\cite{jwtrfc}. Ďalšia nesporná výhoda spočíva v univerzálnosti riešenia pokiaľ používame viacero prihlasovacích metód (ako napr. sociálne siete).
	\par Vzhľadom na pokročilý stav implementácie systému bol tento koncept napriek jeho nesporným výhodám opustený a výsledný systém používa Basic-Auth prihlasovanie. Z tohoto dôvodu bolo tiež nutné upraviť spôsob, akým bude fungovať prihlasovanie pomocou sociálnych sietí. Viac v sekcii \ref{soc-auth}.
	
	 \subsection{Atribúty popis chyby a typ chyby v samostatnej tabuľke}
	 \par V neskoršom návrhu sa tiež počítalo s oddelením atribútu \texttt{errorType} a \texttt{errorDescription} do samostatných tabuliek. Takéto riešenie by bolo omnoho lepšie, pretože by nedochádzalo k duplikácii informácií v databáze a neplytvalo by sa diskovým priestorom. V súčasnej podobe však oba atribúty ostali vrámci tabuľky entity \texttt{Error}. Dôvodom bol nedostatok času na zmenu návrhu.
	 
	 \subsection{Integračné testy}
	 \par Integračné testy, na rozdiel od jednotkových testov, ktoré testujú každú časť systému zvlášť, testujú ako dobre fungujú jednotlivé časti spolu\cite{sof5}. Napriek tomu, že v aplikácii je pripravený modul v budúcnosti slúžiaci tomuto účelu, nakoniec je systém testovaný výhradne jednotkovými testami. Viac v kapitole \ref{unit-testy}.
	 
	 \subsection{Návrhové chyby zistené pri implementácii}
	 \par Počas návrhu a implementácie sa vyskytli chyby kvôli ktorým bolo nutné znova sa vrátiť k analýze a zakomponovať riešenie problému. Konkrétne sa jednalo o implementáciu funkčnej požiadavky 2 (Práca so skupinami používateľov), kde bolo po úvahe nutné pridať dve nové entity reprezentujúce školu resp. triedu. Druhý problém kvôli ktorému bolo nutné sa vrátiť k návrhu, bola funkčná požiadavka 4 (Používateľské štatistiky), kde bolo nutné pridať entitu chyba, ktorá obsahuje všetky informácie o konkrétnej chybe. Nižšie je vyobrazený dátový diagram.
		
		\begin{figure}
	\section{Diagram prípadov použitia}
		\includegraphics[width=\linewidth, scale=0.5]{usecase.png}
	\caption{Najvrchnejšia vrstva diagramu prípadov užitia}
	\label{usecasediag}
	
	\end{figure}
	
	\begin{figure}
	\section{Dátový model}
	 	\includegraphics[width=\linewidth, scale=0.5]{datadiag.jpg}
	\label{datadiag}
	\caption{Dátový diagram}
	\bigskip
	\texttt{Mistake} nie je entita a preto nie je súčasťou dátového diagramu. Je v ňom však uvedená pre ilustráciu celkovej štruktúry systému.

	\subsection{Entity - charakteristika}

      \par Navrhovaný webový systém pozostáva z niekoľkých navzájom prepojených entít. Ich zoznam je jedným z výstupov analýzy aplikácie. Sú to \texttt{Category}, \texttt{Dictate}, \texttt{User}, \texttt{Trial}, \texttt{Error}, \texttt{SchoolClass} a \texttt{School}. Nižšie je uvedený krátky popis.
      \begin{itemize}
	\item \texttt{Category} reprezentuje kategóriu diktátu, teda gramatický jav, ktorý má diktát v prvom rade precvičiť. Napr. vybrané slová, veľké a malé písmená, spodobovanie atď. Kategórie definuje správca systému.
	\item \texttt{Dictate} reprezentuje samotný diktát. Obsahuje základné informácie o diktáte: meno, krátky popis diktátu, názov súboru, pod ktorým je uložený na serveri a odkaz na kategóriu, do ktorej diktát spadá. Keďže jedna z požiadaviek na systém bola možnosť nahrávať diktáty, obsahuje tiež odkaz na používateľa, ktorý diktát vytvoril. Entita \texttt{Dictate} tiež ukladá dáta popisujúce samotný zvukový súbor s diktátom, menovite časové značky koncov viet, počet opakovaní diktátu a jednotlivých viet, pauzy medzi vetami a textový prepis diktátu, podľa ktorého potom bude prebiehať oprava.
\end{itemize}	
\end{figure}
\begin{figure}
\begin{itemize}
	\item Entita \texttt{User} nesie základné informácie o používateľovi. Pod tým sa rozumie časová známka registrácie používateľa, meno, adresa elektronickej pošty (ktorá je unikátna, aby bolo možné sa pomocou nej prihlásiť), heslo v zašifrovanom tvare, typ používateľa a pridelená rola v systéme. Pretože má byť aplikácia rozdelená na používateľskú časť a časť pre učiteľov, delí sa entita na dva podtypy: študent a učiteľ, ktoré sa líšia tým, akého je používateľ typu (USER resp. STUDENT) a aké role môže zastávať (rola ADMINISTRATOR a TEACHER pre učiteľa resp. STUDENT pre študenta). 
	\item Entita \texttt{Trial} obsahuje informácie o každom dokončenom diktáte. Pozostáva s neopraveného textu napísaného študentom, časovej známky vykonania pokusu, odkazu na trénovaný diktát a rovnako odkazu na trénujúceho študenta. Tieto informácie môžu byť použité predovšetkým za účelom vytvárania štatistických dát.
	\item Entita \texttt{Error} reprezentuje jednu chybu používateľa v diktáte. Chyba nesie jednak všetky popisné informácie o konkrétnej chybe (ktoré sú totožné s výstupom modulu \texttt{Corrector}, pretože ho k svojmu vytvoreniu využíva). K tomu obsahuje odkaz na entitu \texttt{Trial}, odkaz na diktát, v ktorom sa chyba vyskytla a odkaz na používateľa, ktorý ju urobil. Rovnako ako u predchádzajúcej entity, aj tieto dáta sú predovšetkým určené na účely štatistiky. 
	\item Entita \texttt{School} združuje objekty reprezentujúce jednotlivé školy v systéme. Slúži v prvom rade na reprezentáciu skupín používateľov, prípadne pre štatistické účely.
	\item Entita \texttt{SchoolClass} reprezentuje konkrétnu školskú triedu v určitej škole. Spolu s entitou \texttt{School} tvoria v systéme jedinečné dvojice, do jednej z ktorých musí patriť každý registrovaný žiak.
		\end{itemize}	
\end{figure}
		
			\begin{figure}
	   	\section{Rozdelenie aplikácie na moduly}
      	\par Systém je rozdelený na 6 modulov. Prvý s názvom \texttt{dictatetrainer-model} obsahuje triedy zabezpečujúce prístup k databáze, byznis vrstvu aplikácie a k nim prislúchajúce testy. Modul \texttt{dictatetrainer-resource} obsahuje verejne prístupné rozhrania spolu s ich jednotkovými testami, \texttt{dictatetrainer- corrector} je zvláštny modul zabezpečujúci opravu diktátu a poskytuje verejne prístupné rozhranie. Modul 
      	\texttt{dictatetrainer- resource-war} pozostáva s prezentačnej vrstvy aplikácie a nakoniec modul \texttt{dictatetrainer-ear} zabezpečuje správne zbalenie celého systému, oddeľuje závislosti do zvláštneho adresára a backend do zvláštneho archívu tak, aby bola štruktúra aplikácie čo najprehľadnejšia.
      	
\bigskip
      	\includegraphics[width=\linewidth, scale=0.45]{packages.jpg}
	\caption{Štruktúra modulov aplikácie}
	\label{packagediag}
	\end{figure}
	
	\pagebreak
	
    \section{Štruktúra aplikácie} \label{app-layers}
          \subsection{Vrstva prístupu k databáze}
      
      \par Aby bolo možné abstrahovať definíciu tabuliek a relácii medzi nimi od konkrétnej implementácie databázového systému (ako je napr. Postgres, MySQL, Oracle a pod.), je nutné použiť framework umožňujúci objektovo-relačné mapovanie (skrátene ORM) tabuliek v databáze na Java objekty, tzv. entity. Entita je trieda typicky reprezentujúca jednu tabuľku v databáze. Obsahuje atribúty, ktoré sú ekvivalentné stĺpcom v tabuľke, bezparametrický konštruktor a, ak chceme definovať aj vzťahy medzi entitami, musí obsahovať aj preťažené metódy \texttt{equals} a \texttt{hashCode}. Štandardný framework umožňujúci ORM je Java Persistence API (skrátene JPA). Je to vlastne sada rozhraní definujúcich ako by malo ORM fungovať. Existuje viacero implementácií JPA - ako napr. EclipseLink, OpenJPA alebo Hibernate. Aplikácia používa poslednú spomínanú knižnicu.

	\subsubsection{Prístup k entitám}
	\par Entity je nutné nielen vytvoriť, ale k nim aj vedieť pristúpiť a vykonať s nimi základné operácie. Základnými operáciami rozumieme tzv. CRUD operácie\footnote{\textbf{C}reate = vytvorenie, \textbf{R}ead = čítanie, \textbf{U}pdate = aktualizácia, \textbf{D}elete = zmazanie}. Tieto operácie sú definované v špeciálnej triede vlastnej pre každú entitu, ktorá tvorí akýsi medzičlánok spájajúci entity a databázu. K základným operáciám je pre každú entitu pridaná možnosť filtrovania výsledkov na základe určených atribútov (resp. z databázového pohľadu stĺpcov tabuľky).
      \subsection{Bussiness vrstva aplikácie}
      
      \par Servisná vrstva aplikácie vytvára ďalší stupeň abstrakcie aplikácie. Spolupracuje s vrstvou prístupu k dátam a poskytuje svoje rozhranie vrstve nad ňou.
      \subsection{Vrstva rozhraní - REST}
         \subsubsection{Nahrávanie diktátov}
   \par Jednou zo zadaných požiadaviek na aplikáciu bolo umožniť učiteľom nahrávať diktáty pomocou užívateľského grafického rozhrania a pridať k nim pomocné dáta, ktoré budú diktát popisovať (počet opakovaní jednotlivých viet, počet opakovaní celého diktátu, dĺžka pauzy medzi vetami...). Ako je spomenuté v kapitole \ref{ukladanie}, samotný súbor s diktátom je uložený oddelene od metadát.
   \par Návrh tejto časti bol rozdelený na tri etapy - sprístupnenie zložky určenej pre ukladanie diktátov na aplikačnom serveri, vytvorenie REST rozhrania pristupujúcemu k tejto zložke a navrhnutie nahrávania diktátu v prezentačnej vrstve na strane klienta.
   \par Zložka sprístupnená učiteľom pre nahrávanie diktátov musí byť umiestnená mimo samotný kontext aplikácie. Hlavným dôvodom je nutnosť zachovania nahratých súborov v prípade opätovného nasadenia aplikácie kvôli vylepšeniam resp. oprave chýb.

      \subsection{Prezentačná vrstva}
      		\subsubsection{Angular JS JavaScript framework}
      		\par AngularJS je framework založený na jazyku JavaScript a implementujúci návrhový vzor \textit{MV*}. Skratka \textit{MV*} označuje začiatočné písmená anglických výrazov \textit{Model} (reprezentácia dát - pomocou premenných jazyka JavaScript), \textit{View} (vrstva používateľského rozhrania - deklarovaná pomocou HTML a špeciálnych atribútov pridaných AngularJS frameworkom) a hviezdičkou sa rozumie mechanizmus, ktorý umožňuje komunikáciu medzi týmito dvoma vrstvami. Tento mechanizmus sa nazýva \textit{Digest Loop} a pridáva 
sledovanie zmien atribútov deklarovaných v modeli v jazyku JavaScript, na strane používateľského rozhrania\cite{angularudemy}.  
			\par Hlavnou výhodou frameworku AngularJS oproti napr. JSF je, že sa logika prezentačnej vrstvy presúva na stranu klienta. \cite{hades14} AngularJS bol zvolený aj z viacerých iných dôvodov, uvádzam podľa môjho názoru tie najdôležitejšie. 
	\begin{itemize}
		\item Jednoduchá použiteľnosť a prehľadnosť
		\item Priamočiara integrovateľnosť s REST rozhraním
		\item Veľká komunita poskytujúca množstvo rozširujúcich modulov pridávajúcich potrebnú funkcionalitu
		\item Základ prezentačnej vrstvy frameworku tvorí HTML
		\item Určený na tvorbu jednostránkových aplikácií
	\end{itemize} 
	   		
      		\subsubsection{CSS a Bootstrap}
      		\par Vzhľad používateľského rozhrania je implementovaný pomocou kaskádových štýlov a \textit{Bootstrap} frameworku. Bootstrap je kolekcia nástrojov pre vytváranie webových aplikácií \cite{w3c-bootstrap}. Pomocou HTML atribútov (predovšetkým atribútov \texttt{class} a \texttt{id4}) je možné jednoduchým spôsobom definovať vzhľad jednotlivých komponent používateľského rozhrania.   
      		\subsubsection{HTML5}
      		\pagebreak
	\section{Ukladanie dát popisujúcich diktát}
	\par Dátami popisujúcimi diktát rozumieme všetky dáta uložené spolu s diktátom, ktoré ho nejakým spôsobom definujú. Konkrétne sa jedná o textový prepis diktátu (tzv. transkript), značky koncov jednotlivých viet, východzí počet opakovaní prehrávania viet ako aj celého diktátu a dĺžka pauzy medzi jednotlivými vetami. V bakalárskej práci bol systém navrhnutý tak, že boli tieto informácie uložené v rámci mp3 súboru s diktátom \cite{rumanov12}. Tento prístup má však niekoľko nevýhod. Jednak je použitie zvukových formátov obmedzený na mp3, pretože sa informácie ukladajú do ID3v2 tagu\footnote{Do súboru mp3 je možné uložiť rôzne atribúty, nazývané tagy, ktoré obsahujú napr. názov interpreta, názov skladby, rok vydania atď.}. Druhá nevýhoda je, že tento návrh komplikuje prípadnú budúcu úpravu systému a spracovanie napr. pre účely štatistiky, pretože v prípade budovania štatistických informácií by bolo nutné najprv pristúpiť ku každému súboru zvlášť a získať z neho potrebné dáta. V neposlednom rade je nevýhodou neflexibilita takéhoto riešenia. Každý súbor s diktátom by totiž pred nahratím na server musel najprv integrovať všetky dáta pomocou špecialneho nástroja dostupného v systéme.
	\par Toto všetko sú dôvody, prečo bolo nakoniec rozhodnuté ukladať všetky popisné dáta v databáze spolu s autorom a názvom súboru s diktátom a zvukový záznam je uložiť zvlášť na serveri. 
      \par Existujú dve možnosti ako ukladať audio súbory a všeobecne akékoľvek dáta. Prvý prístup ukladá dáta priamo do databázy ako BLOB\footnote{dátový typ pre bližšie nešpecifikované binárne dáta v databáze}. Nevýhoda tejto alternatívy je v tom, že neúmerne zväčšuje databázu, spomaľuje dotazy a všeobecne degraduje jej rýchlosť.
      \par Druhá možnosť je ukladať súbory priamo na server a do databázy pridať iba odkaz, resp. meno súboru ako jeden stĺpec v tabuľke. Tento prístup je pri veľkých súboroch odporúčaný \cite{sof1}. Rozhodol som sa preto oddeliť súbory s diktátmi od databázy a ponechať tam iba odkazy. Viac o konkrétnom riešení s použitím databázy Postgres a aplikačného servera Wildfly je uvedené v kapitole \ref{nasadenie}. Nasadenie systému.
     
     \section{Prehrávanie diktátov}
            \subsection{Diktát}
	\par Diktát je podľa Prášilovej\cite{prasilova14} jeden z mnohých druhov pravopisných cvičení. Je to veľmi špecifická možnosť, ako skontrolovať u žiaka úroveň jeho pravopisného prejavu. Je to podľa nej však i prostriedok cvičebný, pretože sa z jeho pomocou upevňuje prebraté učivo. 
	\par Diktát je vo väčšine prípadov diktovaný učiteľom. Toto diktovanie má taktiež svoje zásady a predpisy. Podľa Hausera\cite{hauser94} sa riadi nasledovnými pravidlami:
	      \begin{enumerate}
	\item Učiteľ najprv prečíta celý text (a podľa potreby vysvetlí menej užívané výrazy)
	\item Diktuje po vetách. Najprv prečíta celú vetu a potom diktuje po častiach. Tempo žiakov prispôsobí veku žiakov a ich výkonnosti
	\item Diktuje presne a zreteľne, dodržuje pravidlá spisovnej výslovnosti, nezdôrazňuje nadmerne pauzy ani i/y s/z atď.
	\item Pri diktovaní sleduje učiteľ ako žiaci píšu. Stojí pred žiakmi a neprechádza sa po triede.
	\item Nakoniec prečíta učiteľ ešte raz pomaly celý text.
\end{enumerate}

\par Vybrané pravidlá, ktoré dávajú zmysel aj pri precvičovaní diktátu na internete, sú uplatnené aj pri vývoji portálu.

\section{Nahrávanie diktátu na strane používateľského rozhrania}
	\par K implementácii nahrávania diktátu na strane používateľského rozhrania bol použitý modul pre framework AngularJS s názvom \textit{ng-file-upload}. Medzi jeho hlavné funkcie patrí ukazovateľ postupu nahrávania, možnosť nahrať súbor presunutím na zvolené miesto na stránke (tzv. \textit{drag and drop}, možnosť filtrovania zvolených typov súborov podľa koncovky a maximálnej veľkosti súboru, jednoduché prepojenie s REST rozhraním na strane servera a podpora starších prehliadačov\cite{fileupload}.
	\par V diktátovom systéme bolo použité filtrovanie a drag and drop
	

\section{Detekcia hraníc jednotlivých viet vrámci diktátu}
\par Hranica dvoch viet v zvukovom súbore s diktátom je definovaná ako dva súvislé zvukové signály vysokej intenzity oddelené od seba súvislým zvukovým signálom nízkej intenzity\cite{wavesurfer14}. Čo znamená súvislý resp. aká je definícia vysokej a nízkej intenzity signálu je možné zvoliť pomocou konkrétnych atribútov. Detekciu je možné vykonať automaticky pomocou rozšírenia s názvom \textit{wavesurfer} pre jazyk JavaScript.

      \section{Zabezpečenie aplikácie}
      		\subsection{Zabezpečená komunikácia pomocou HTTPS} \label{https}
      		\par Základom bezpečnosti akéhokoľvek webového systému je zabezpečená komunikácia. Dáta posielané užívateľom cez sieť v rámci interakcie so systémom vrátane mena, hesla a iných citlivých informácií, by bez nej boli vystavené potenciálnemu riziku odcudzenia. Takýto útok sa nazýva Man in the middle attack\footnote{Typ útoku, kedy útočník napadne komunikáciu medzi užívateľom a serverom s cieľom ukradnúť citlivé dáta}. Je tomu však možno zabrániť zašifrovaním komunikácie s použitím protokolu HTTPS, ktorý je bezpečnou verziou HTTP. Cezeň sa posielajú dáta medzi internetovým prehliadačom a webovou stránkou, ku ktorej je prehliadač pripojený. 
      		\par HTTPS typicky využíva jeden z dvoch protokolov na šifrovanie komunikácie - TLS alebo SSL. Oba používajú tzv. asymetrickú šifru, ktorá pracuje s dvoma typmi kľúčov. Privátny kľúč je bezpečne uložený na webovom serveri a zabezpečuje šifrovanie posielaných dát. Verejný kľúč je distribuovaný komukoľvek, kto chce rozšifrovať informácie zašifrované pomocou privátneho kľúča. Verejný kľúč obdrží používateľ v SSL certifikáte webovej stránky pri prvotnom požiadavku o spojenie \cite{comodo15}.
      		\par Vo vyvíjanej aplikácii, ktorá je nasadená na službe je vynútený protokol HTTPS. Openshift ponúka svoj SSL certifikát, takže nie je nutné vytvárať vlastný. Je iba potrebné správne nastaviť \texttt{web.xml} a \texttt{jboss-web.xml} podľa dokumentácie \cite{openshift15}.
      		\pagebreak

      		\subsection{Basic autentifikácia a AngularJS}
      		\par Podľa špecifikácie aplikácie uvedenej v kapitole \ref{spec-app} má navrhnutý systém obsahovať administračnú časť pre pedagógov a používateľskú časť pre žiakov. Z tohoto dôvodu je nutné zabezpečiť riadenie prístupu k zdrojom. Ako riešenie je použitá Basic autentifikácia používateľa medzi klientom a serverom.
      		\par Podľa servera \texttt{spaghetti.io}\cite{spaghetti14} je Basic autentifikácia jedna z najrozšírenejších a najviac používaných autentifikačných metód. Aby bolo možné implementovať túto funkcionalitu, musí byť na strane klienta do každej požiadavky pridaná hlavička obsahujúca Base64\footnote{Číslovací systém založený na 64 rôznych znakoch využívajúci veľmi jednoduchý kódovací/dekódovací algoritmus. Neponúka jednosmernú šifrovaciu funkciu ako napr. SHA1} reťazec vo formáte \texttt{Authorization:Basic username:password}. Napriek tomu, že sa meno a heslo nachádza v nezašifrovanej podobe v hlavičke, je protokol bezpečný, vyžaduje však zabezpečenú komunikáciu medzi klientom a serverom, teda HTTPS (kapitola \ref{https}). 
      		\par Implementácia Basic autentifikácie na strane klienta vychádza z návodu od Watmorea\cite{watmore14}. Je realizovaná tak, že sa najprv odošle požiadavka na konkrétny zdroj s danou HTTP metódou. Pri odpovedi prezentačná vrstva overí, či požiadavka skončila úspešne, ak nie zobrazí chybové hlásenie. Ak je dotaz úspešný, uložia sa informácie jednak do globálnej premennej, aby boli prístupné ostatným stránkam resp. im prislúchajúcim skriptom a jednak do HTTP cookie\footnote{dáta získané od webovej stránky, uložené v prehliadači používateľa}. Toto riešenie bolo zvolené z toho dôvodu, aby sa pri náhodnom alebo cielenom obnovení stránky nestratili prihlasovacie dáta a užívateľ sa nemusel znova prihlasovať do systému. Odhlásenie používateľa znamená presmerovanie na prihlasovaciu stránku a zmazanie HTTP cookie s prihlasovacími údajmi.
      		
      		\subsection{Zabezpečenie ciest na úrovni AngularJS frameworku}
      		\par Zabezpečenie prezentačnej vrstvy pred neoprávneným prístupom používateľa je rovnako dôležité ako zabezpečenie časti aplikácie starajúcej sa o prístup k dátam. Ak je používateľ neprihlásený, alebo prihlásený pod rolou, ktorá k uvedenej adrese nemá mať prístup, musí byť zamedzený a používateľ primerane oboznámený.
      		\par 
      		
      		\subsection{Autentifikácia pomocou sociálnych sietí} \label{soc-auth}
      		\par Existuje hneď niekoľko možností, ako vyriešiť prihlasovanie do webovej aplikácie pomocou sociálnych sietí, píše Carvajal\cite{carvajal14} na svojom technologickom blogu. Popis technológie ako aj porovnanie jednotlivých možností jej implementácie takisto pochádza z uvedeného zdroja.
      		
      		\subsubsection{Autorizačný protokol OAuth}
      		\par \texttt{OAuth} je autorizačný protokol používaný v prípade potreby prístupu webovej služby A k informáciám webovej služby B (ako je napríklad sociálna sieť). Protokol vznikol, aby používateľ nemusel do služby A ručne zadávať prihlasovacie údaje  služby B. Aby vývojári nemuseli pre každú službu, od ktorej požadovali informácie, integrovať nové autorizačné schémy, vznikol štandardný protokol. OAuth, dnes už vo svojej druhej verzii, nie je autentifikačný\footnote{Autentifikácia = identifikácia používateľa na základe mena a hesla} protokol, ale protokol slúžiaci na autorizáciu\footnote{Autorizácia = povolenie prístupu k určitým informáciám o používateľovi}. Nižšie je uvedené ako je možné OAuth použiť aj na autentifikáciu používateľa.
      		
      		\subsubsection{Možnosti integrovania sociálnej autentifikácie}
      		Carvajal na svojom blogu rozoberá tri autentifikačné schémy. 
      		\par Prvá možnosť je nechať užívateľa prihlásiť sa k aplikácii pomocou zvolenej sociálnej siete. Používateľ prihlásením povolí prístup k niektorým jeho informáciám vrátane tzv. identifikátora (skrátene \textit{id}) vrámci sociálnej siete. Aplikácia potom vygeneruje unikátny identifikátor používateľa na základe získaného id zo sociálnej siete a prípadne iných informácií o používateľovi. Heslo je generované pomocou hashovacej funkcie na základe identifikátora aplikácie v sociálnej sieti (tzv. \texttt{client id}), tajomstva aplikácie a získaných používateľských informácií. Najdôležitejšie pri tejto autentifikačnej metóde je, aby nebolo zverejnené id a tajomstvo aplikácie resp. hashovacia funkcia. Výhody uvedeného prístupu spočívajú v tom, že používateľ si nepotrebuje pamätať ďalšie heslo, riešenie je relatívne jednoducho implementovateľné a tiež to, že heslo (resp. v tomto prípade tajomstvo) môže byť uložené v aplikácii alebo vygenerované znova na základe získaných informácií. Nevýhoda je, že tajomstvo je rovnako jednoducho generovateľné treťou stranou v prípade znalosti postupu.
      		\par Druhú variantu sociálnej autentifikácie je možno nazvať hybridnou, pretože používa \texttt{OAuth} protokol na získanie používateľských informácií zo sociálnej siete a heslo zadáva používateľ ručne, rovnako ako pri prihlasovaní emailom. Tento prístup je iba o málo lepší ako klasické prihlasovanie pomocou mena a hesla, konkrétne o to, že používateľ nemusí ručne zadávať svoje osobné informácie. Výhoda oproti predchádzajúcemu riešeniu je v tom, že je nutné explicitne overiť identitu, nestačí prístup k sociálnej sieti. Nesporná výhoda je tiež jednoduchosť implementácie a expanzie z klasickej prihlasovacej schémy meno/heslo. Nevýhodou je nutnosť pamätať si ďalšie heslo.
      		\par Posledným zmieneným autentifikačným mechanizmom je tzv. Reverzná \texttt{OAuth} autentifikácia. Od sociálnej siete je získaný prístupový token, ktorý je následne odoslaný aplikácii cez jej REST rozhranie. Server aplikácie sa následne spojí s autorizačným serverom sociálnej siete a overí používateľské údaje za použitia prístupového tokenu. Hlavné výhody: Nie je potrebné ďalšie heslo. Nie je nutné ukladať heslá alebo prístupové tokeny. Používateľsky prívetivé. Z vývojárskeho pohľadu však veľmi ťažko implementovateľné a neintuitívne\footnote{Viac ohľadom implementácie na \url{http://digitalleaves.com/blog/2014/07/building-your-own-rest-api-with-oauth-2-0-iii-hands-on/} }.
      		\pagebreak
      		
      		\subsubsection{Zvolený prístup pre Diktátový systém}
      		\par Pre navrhovaný systém bola zvolená hybridná autentifikácia pomocou sociálnych sietí. Dôvodov je hneď niekoľko. Prvým dôvodom sú problémy v návrhu systému popisované v kapitole \ref{jwt}. Taktiež bol tento prístup zvolený preto, že používateľ (žiak) musí spolu s heslom zadávať pri prvom prihlasovaní i školu a triedu, keďže tieto informácie sa zo sociálnych sietí získať nedajú (viac v kapitole \ref{pouzivatelia-sprava}). Prihlasovanie pomocou sociálnych sietí teda prebieha nasledovne: 
      		\begin{enumerate}
      		\item Používateľ klikne na ikonu prihlasovania cez zvolenú sociálnu sieť
      		\item Ak ešte nie je prihlásený k zvolenej sociálnej sieti, táto ho požiada o prihlásenie
      		\item V prípade úspechu pošle aplikácii požadované informácie od používateľa (meno a email)
      		\item Aplikácia overí, či používateľ so získaným emailom v systéme existuje
\begin{enumerate}

      		\item Ak áno, spýta sa na heslo do aplikácie ktoré potom používateľ zadá
      		\item Ak nie, požiada o voľbu hesla, triedu a školu žiaka
\end{enumerate}
      		\end{enumerate}
      		
Ďalšou výhodou tohto riešenia je, že zjednocuje prihlasovanie a používateľ sa po prvom prihlásení cez sociálnu sieť môže prihlásiť klasickým spôsobom email/heslo, pokiaľ použije email zo sociálnej siete.

			\subsubsection{Implementácia sociálnej autentifikácie}
			\par Implementácia sociálnej autentifikácie pozostávala z dvoch častí. Na strane servera bolo nutné vytvoriť REST rozhranie pre každú sociálnu sieť zvlášť. Rozhranie reprezentuje logiku autentifikácie popísanej v predchádzajúcej sekcii. Na strane užívateľského rozhrania je použitý modul frameworku AngularJS s názvom \textit{Satellizer}. Je to autentifikačný modul so vstavanou podporou pre Facebook, Google, LinkedIn a iné sociálne siete\cite{yalkabov14}.
      		\pagebreak
      		\subsection{Cross Domain Resource Sharing (CORS)}
      		\par Jedným z požiadaviek na aplikáciu (kap. \ref{spec-app}) je vytvoriť rozhranie prístupné ostatným doménam, ktoré bude schopné opraviť užívateľský text podľa zadaného originálu. Túto funkciu bude môcť v budúcnosti využívať napr. Informačný systém Masarykovej univerzity vo svojich projektoch. Keďže ide o prístup k dátam a zdrojom aplikácie zvonku, je nutné riešiť tzv. Cross Domain Resource Sharing\footnote{V preklade: Zdieľanie zdrojov naprieč doménami}.
      		\par CORS HTTP požiadavka zdrojovej stránky je definovaná ako požiadavka na dáta alebo informácie z inej domény ako je doména zdroja. Dáta môžu byť v akejkoľvek forme, napr. obrázky, css štýly, skripty atď. Z bezpečnostných dôvodov sú CORS požiadavky vo všetkých webových prehliadačoch implicitne zakázané. Explicitne je však možné prístup pre určité rozhrania a domény povoliť. Ku konkrétnej odpovedi servera sa pridajú hlavičky ktoré popisujú množinu domén a HTTP metód, ktorým je povolený prístup. HTTP metódy, ktoré môžu spôsobiť vedľajšie efekty na odosielané používateľské dáta (predovšetkým GET a POST), je najprv vykonaná tzv. predpožiadavka\footnote{angl. Preflight request}, ktorý pozdrží odoslanie odpovede servera do prehliadača až do okamihu, keď je povolený prístup na základe hlavičiek\cite{mozilla2015}. Správny formát hlavičiek znižuje bezpečnostné riziká spojené s CORS, predovšetkým CSRF útok\footnote{Cross-Site Request Forgery, v preklade: Falšovanie požiadaviek cudzími doménami je typ útoku, ktorý vykoná požiadavku z inej domény ako doména servera využívajúc aktuálne prihláseného používateľa}\cite{sof4}. Definícia hlavičiek spolu s dokumentáciou sa nachádza na stránkach pracovnej skupiny W3C\cite{w3c2014}.
      		\par Povolenie prístupu musí byť definovaná na strane servera. Z návrhu aplikácie vyplýva, že je nutné povoliť jediný zdroj slúžiaci na opravu diktátov, využívajúci metódu POST. Java ponúka hneď niekoľko možností.
      		\par Prvá možnosť je použitie filtru, ktorý implementuje rozhranie \texttt{ContainerResponseFilter}\cite{matei14}\cite{sof3}. Tento spôsob však povoľuje prístup pre všetky zdroje, preto je pre aplikáciu nevhodný. Druhé riešenie je pridať prístupové hlavičky priamo pri budovaní odpovede spolu s telom odpovede a návratovým kódom. Výhoda tohto riešenia je, že umožňuje vybrať podmnožinu dostupných zdrojov u ktorých bude povolený CORS. Bohužiaľ, tento postup nie je možné použiť pre HTTP metódu POST, pretože ak je požiadavka vykonaná z inej domény, hlavičky sa nepridajú a odpoveď skončí s chybou\cite{sof2}. 
      		\par Riešenie spĺňajúce obmedzenia aplikácie využíva externú knižnicu\cite{dzhuvinov15}, ktorá definuje prístupové hlavičky priamo v súbore \texttt{web.xml}. Tento postup jednak ponúka možnosť vybrať z dostupných zdrojov tie, ktoré budú povolené, a taktiež funguje s HTTP metódou POST\cite{sof2}.
\pagebreak

\section{Správa používateľov systému} \label{pouzivatelia-sprava}
\par Jednou z funkčných požiadaviek na aplikáciu (kapitola \ref{spec-app}, požiadavka FP2) bola implementácia správy používateľov systému. Správu všetkých používateľov systému zabezpečuje administrátor systému, ktorý je po nasadení aplikácie na server ručne pridaný do databázy. Má povolené upravovať, poprípade zmazať akéhokoľvek používateľa systému (s výnimkou seba samého). Jeho druhou úlohou je na požiadanie vytvoriť používateľa role TEACHER (učiteľ), pretože toho nie je možné registrovať priamo cez grafické rozhranie. V rámci registrácie nového učiteľa je administrátor taktiež poverený prideľovať skupiny používateľov konkrétnemu učiteľovi.
\par Každý učiteľ v systéme má pridelených najmenej 0, najviac n školských tried, kde n je počet všetkých školských tried v systéme. Školská trieda je definovaná ako názov triedy (napr. 4.A, alebo Kvinta) a názov školy (napr. Gymnázium Ľ. Štúra, Trenčín). Táto dvojica atribútov je vrámci systému unikátna. V aplikácii môžu existovať viacerí učitelia spravujúci rovnakú skupinu používateľov. Používateľ role STUDENT (žiak) patrí vždy do práve jednej školskej triedy. Učiteľ môže upravovať profil žiakov v pridelených skupinách takisto ako mazať.

\section{Návrh používateľského rozhrania}

      \chapter{Modul na opravu diktátov} \label{modul-diktaty}
      \section{Analýza}
      \section{Návrh a implementácia}
      \par Modul na opravu diktátov je nezávislý od ostatných modulov aplikácie a pozostáva zo značkovača vstupného používateľského textu a definície pravidiel. Prístup k modulu zabezpečuje verejné REST rozhranie. Vstupom je správny text diktátu z databázy a text vložený používateľom. Výstup vo formáte JSON obsahuje celkový počet chýb a list jednotlivých chýb zoradených podľa pozície chyby v diktáte (viac o definícii rozhrania, formáte vstupu a výstupu v prílohe \ref{navod_oprava}). 
      \par Opravu diktátu možno rozdeliť do niekoľkých fáz. Najprv sa vstupné reťazce porovnajú za pomoci knižnice \texttt{diff-match-patch}\cite{diffmatchpatch} a vytvorí sa označkovaný text. Z takto predspracovaného textu sa v ďalšom kroku vygeneruje pre každú chybu objekt typu \texttt{Mistake}. Tento objekt je určený na uchovanie dát popisujúcich jednotlivé chyby. Štruktúra atribútov vychádza z návrhu popísaného v bakalárskej práci Vojtěcha Škvařila \cite{skvaril14}. V nasledujúcom texte bude ako správny označený znak alebo slovo vyskytujúce sa v správnom texte diktátu z databázy a chybným znakom alebo slovom rozumieme podreťazec textu vloženého používateľom, ktorý sa nezhoduje so správnym znakom resp. slovom. Slovo je v tomto texte synonymum k výrazu token\footnote{Token je kategorizovaný blok textu, obyčajne pozostáva z nedeliteľných znakov} s výnimkou, že slovo môže pozostávať s dvoch tokenov, vlastného slova a interpunkčného znaku. Posledná fáza aplikuje definované pravidlá a na ich základe pridáva definíciu chyby, typ chyby a prioritu.
\par Každá inštancia chyby obsahuje nasledovné atribúty:
      \begin{itemize}
	\item \texttt{id} - jednoznačný identifikátor objektu
	\item \texttt{mistakeCharPosInWord} - pozícia chybného znaku, pri viacerých chybných znakoch označených za sebou ako jedna chyba vracia pozíciu prvého chybného znaku, v prípade nadbytočného znaku je pozícia 0, v prípade chýbajúceho -1.
	\item \texttt{correctChars} - správny znak resp. podreťazec. Ak sa jedná o nadbytočný znak, môže byť prázdny
	\item \texttt{writtenChars} - chybný znak resp. podreťazec označený ako jedna chyba. Ak sa jedná o chýbajúci znak, môže byť prázdny
	\item \texttt{correctWord} - správne slovo
	\item \texttt{writtenWord} - chybné slovo bez značiek označujúcich chybu
	\item \texttt{previousWord} - slovo bezprostredne predchádzajúce chybnému slovu
	\item \texttt{nextWord} - slovo bezprostredne nasledujúce po chybnom slove
	\item \texttt{wordPosition} - pozíciu chyby v diktáte, použiteľnú napr. pri výpise chýb konkrétneho slova. Pozícia je definovaná ako číslo tokenu v rámci diktátu, číslovaná od 1, 0 znamená nadbytočné slovo, -1 chýbajúce slovo
	\item \texttt{lemma} - základný tvar slova získaný z výstupu morfosyntaktického analyzátoru Majka\cite{majka}, ak je vo výstupe viac ako jeden tvar, berie sa vždy prvý v poradí
	\item \texttt{posTag} - značka popisujúca slovné druhy a iné morfosyntaktické kategórie, rovnako získané z výstupu analyzátoru Majka. Popis značiek je dostupný na webovej stránke NLP FI\cite{nlpfi}, pričom znova platí, že ak je z výstupu dostupných viacero možností, je braná vždy prvá v poradí
	\item \texttt{sentence} - veta v ktorej sa vyskytla chyba. Ukladá sa veta z výstupu značkovača, teda s označenými chybami. Tento atribút je určený pre budúce využitie v prípade popisu kontextových chýb, ktoré sa v tejto práci neriešia
	\item \texttt{priority} - prioritu slova. Priorita je číslo od 1 do 10, pričom 10 je najväčšia priorita a získava sa spolu s typom chyby a jej popisom ako výstup definície pravidiel
	\item \texttt{mistakeType} - typ chyby, tzn. zaradenie chyby do určitej kategórie. Úplný zoznam možných typov chýb je dostupný v prílohe \ref{typy-chyb}.
	\item \texttt{mistakeDescription} - popis chyby na základe daných pravidiel.
\end{itemize}
      \par Celý modul je navrhnutý s dôrazom na modifikovateľnosť a nahraditeľnosť jednotlivých častí. Stačí vymeniť implementácie daných Java rozhraní. Modul je používaný aj samotnou navrhovanou aplikáciou, kde využíva objekty typu \texttt{Mistake} z popisovaného modulu a ukladá ich do databázy spolu s informáciami o používateľovi, diktáte a prístupe k diktátu ako objekt typu \texttt{Error}. Návrh bol zvolený z toho dôvodu, aby bolo rozhranie opravy diktátu čo najjednoduchšie použiteľné aplikáciami tretích strán (preto má objekt typu \texttt{Mistake} iba atribúty, ktoré je možné vyčítať z daných vstupných dát). Zamýšľané použitie objektu typu \texttt{Error} je na generovanie štatistických dát o jednotlivých používateľoch a diktátoch.
      
      \section{Značkovanie chýb}
      \par Formát značkovania vychádza z návrhu prezentovanom v mojej bakalárskej práci \cite{rumanov12}. Je definovaný nasledujúcim spôsobom:
      \begin{itemize}
	\item Ak sa v slove vyskytuje chyba, prípadne je chybné celé slovo či slová, označí sa znak, reťazec, slovo alebo slová špeciálnymi značkami definovanými nižšie
	\item Správny znak resp. reťazec je uzavretý do párových zátvoriek \textit{(} a \textit{)}. Chybný znak alebo reťazec je označený zátvorkami \textit{<} a \textit{>} nasledujúcimi bezprostredne po správnej variante (napr. \textit{r(y)<i>ba})
	\item Chýbajúci znak alebo reťazec znakov je označený zátvorkami \textit{(} a \textit{)} a bezprostredne za nimi pokračuje dané slovo (napr. \textit{strun(n)ý}) resp. sa môže nachádzať koniec slova (napr. \textit{košil(e)}), čo sa väčšinou vyskytuje pri preklepoch.
	\item Nadbytočný znak v slove je označený zátvorkami \textit{<} a \textit{>} a bezprostredne za nimi slovo pokračuje (napr. \textit{ran<n>ý}) resp. sa môže nachádzať koniec slova (napr. \textit{košile<e>}), čo sa väčšinou vyskytuje pri preklepoch.
	\item Chýbajúce slovo alebo slová sú celé uzavreté do zátvoriek a za ním nenasledujú párové zátvorky \textit{<} a \textit{>}, ale koniec slova, prípadne interpunkčný znak\footnote{Interpunkčným znakom rozumieme znak označujúci koniec vety (\textit{. ! ?}) a špeciálne znaky (\textit{" , ; :})} (napr. \textit{Stěhuje se (z domu).})
	\item Nadbytočné slovo resp. slová sú uzavreté do zátvoriek \textit{<} a \textit{>} a za uzavieracou zátvorkou nasleduje koniec slova, prípadne interpunkčný znak (napr. \textit{Mává <s> kapesníkem.})
	\end{itemize}
	\par Slovo je v mojej práci definované ako reťazec znakov v texte oddelený medzerami. Slovo vo veľkej väčšine obsahuje jeden token. Existujú dve výnimky. Ak je slovo na konci vety, (Veta je definovaná ako reťazec slov ukončených interpunkčným znakom) obsahuje aj interpunkčný znak, ktorý je súčasťou slova. Ak sa v užívateľskom vstupe objaví chýbajúca alebo nadbytočná medzera, sú tokeny naľavo a napravo od chyby kvôli jednoduchšiemu spracovaniu brané ako jedno slovo. Chybný znak, reťazec znakov, chýbajúce a nadbytočné slová sú získané zo vstupu zadaného užívateľom. Správny znak alebo reťazec znakov je daný podľa prepisu diktátu uloženého v databáze aplikácie. Z označkovaného textu je pri každom výskyte chyby vytvorený nový objekt typu \texttt{Mistake}. Jeho štruktúra je popísaná vyššie.
	
      \section{Spracovanie chýb podľa definovaných pravidiel}
     	  \par Po spracovaní textu a vytvorení \texttt{Mistake} objektu pre každú chybu spracovanie prechádza do ďalšej fázy. Prostredníctvom dát uložených v objekte a popisujúcich chybu sa ju systém pokúsi čo najpresnejšie zaradiť do jednej z kategórií (popísaných v prílohe \ref{typy-chyb}) a priradiť mu odpovedajúce vysvetlenie a prioritu. Priorita je váha, ktorú majú jednotlivé typy chýb a je možné ju napr. použiť pri výpočte výslednej známky.
     	  \par Implementácia pravidiel, ktoré dokážu chybu správne zaradiť, bola jednou z požiadaviek na výslednú aplikáciu. Zoznamy vyskytujúce sa v rámci definície pravidiel sú umiestnené v samostatnej statickej triede. Statická trieda bola zvolená z toho dôvodu, aby sa pri každom prístupe nevytvárala nová inštancia triedy obsahujúcej zoznamy. Trieda s pravidlami k nim potom pristupuje priamo pomocou názvu triedy a názvu zoznamu.
     	  \par Pravidlá sú prepísané z pseudokódu, ktorý bol súčasťou bakalárskej práce Vojtěcha Škvařila\cite{skvaril14}. Bolo v nich však vykonaných zopár zmien kvôli zlepšeniu fungovania pravidiel a ich presnosti. Ak sa napr. vysvetlenie chyby skladá z viacerých častí, bolo najviac špecifické vysvetlenie presunuté na začiatok a ďalej boli zobrazené všeobecnejšie definície. V pseudokóde to nebolo vždy pravidlom. Bolo tiež zabezpečené, aby všetky dáta typu \texttt{String} popisujúce chybu začínali malým písmenom, s jedinou výnimkou, a to ak by šlo o chybu vo veľkosti písmen.
    \chapter{Testovanie systému} \label{unit-testy}
	\par V aplikácii je každá vrstva systému testovaná zvlášť jednotkovými testami, ktoré majú overiť správne fungovanie jednotlivých funkcii. V zvýšenej miere sa pritom dbá na to, aby sa jednotlivé vrstvy testov navzájom neovplyvňovali a nespôsobovali tak propagáciu prípadných chýb do ďalších vrstiev. Tento cieľ je dosiahnutý dôsledným tzv. \textit{napodobovaním} (anglicky mocking) funkcionality nižších vrstiev. \textit{Napodobňovanie} funguje tak, že sa, pomocou špeciálnej knižnice, priradí metóde z nižšej vrstvy aplikácie očakávaná hodnota, s ktorou potom vyššia vrstva pracuje tak, ako by ju obdržala pri skutočnom behu aplikácie.
	\par Dohromady je k dispozícii viac ako 200 testov, čo umožňuje jednoducho overiť zachovanie funkčnosti jednotlivých častí systému po pridaní resp. upravení niektorých jeho funkcií.
    \chapter{Nasadenie systému} \label{nasadenie}
      \section{Databázový systém}
      \par Ako databázový systém bol použitý PostgreSQL vo verzii 9.4. Je to voľne šíriteľný objektovo orientovaný databázový systém\cite{postgre15}. Jedným z hlavných dôvodov použitia bola aj jednoduchá integrácia s aplikačným serverom v rámci web-hostingovej platformy Openshift. Jediný problém v chovaní databázového systému vznikal pri použití dátového typu LOB.
      \section{Aplikačný server}
      \par Ako aplikačný server bol zvolený Wildfly vo verzii 9, hlavne kvôli používateľskej prívetivosti rozhrania a jednoduchému použitiu, ale aj z dôvodu toho, že projekt je voľne šíriteľný.
      \section{Nasadenie a web-hosting}
      \par Za hosťovaciu platformu bol zvolený projekt OpenShift, hlavne kvôli jednoduchej správe a množstvu dostupných prídavných modulov, ktoré spĺňali požiadavky uvedené v predošlých sekciách. Vytvorenie novej aplikácie, priradenie modulov a nasadenie reálneho systému bolo otázkou rádovo niekoľkých minút. Systém je dostupný na adrese \url{http://dictatetrainerweb-jrumanov.rhcloud.com/}.
      \par V neplatenom režime sa nasadená aplikácia po 48 hodinách bez návštevníka prepne do režimu nečinnosti a stane sa nedostupnou.  Potom je nutné aplikáciu znova nasadiť.
    \chapter{Záver}   
       \par Čo sa podarilo, čo sa nepodarilo a prečo, splnilo sa oficiálne zadanie?
       
           % Bibliography goes here
    \begin{thebibliography}{59}
    
    	\bibitem{crimson15}
  		Fahs, C. Ramsey.
  		\emph{EdX Overtakes Coursera in Number of Ivy League Partners}
  		[online].
  		2015
  		[cit. 2015-10-27].
  		Dostupné z: <\url{http://www.thecrimson.com/article/2015/10/2/edx-ivy-league-coursera/}>.

		\bibitem{comodo15}
  		Comodo CA Limited.
  		\emph{What is HTTPS}
  		[online].
  		2015
  		[cit. 2015-10-26].
  		Dostupné z: <\url{https://www.instantssl.com/ssl-certificate-products/https.html}>.
	
		\bibitem{openshift15}
  		Red Hat Inc.
  		\emph{Troubleshooting FAQs - How do I redirect traffic to HTTPS?}
  		[online].
  		2015
  		[cit. 2015-10-26].
  		Dostupné z: <\url{https://developers.openshift.com/en/troubleshooting-faq.html#_how_do_i_redirect_traffic_to_https}>.
  		
  		\bibitem{samwell14}
  		Samwell, Jon.
  		\emph{URL Route Authorization and Security in Angular}
  		[online].
  		2014
  		[cit. 2015-10-26].
  		Dostupné z: <\url{http://jonsamwell.com/url-route-authorization-and-security-in-angular/}>.
  		
  		\bibitem{yalkabov14}
  		Yalkabov, Sahat.
  		\emph{Build an Instagram clone with AngularJS, Satellizer, Node.js and MongoDB}
  		[online].
  		2014
  		[cit. 2015-10-26].
  		Dostupné z: <\url{https://hackhands.com/building-instagram-clone-angularjs-satellizer-nodejs-mongodb/}>.
  		
  		\bibitem{mik14}
  		Mikołajczyk, Michal.
  		\emph{Top 18 Most Common AngularJS Developer Mistakes}
  		[online].
  		2015
  		[cit. 2015-10-26].
  		Dostupné z: <\url{http://www.toptal.com/angular-js/top-18-most-common-angularjs-developer-mistakes}>.
  			
  	    \bibitem{sof1}
  		Stack Exchange Inc.
  		\emph{What is best way to store mp3 files in server ? Storing it in database (BLOB) , is right?}
  		[online].
  		2014
  		[cit. 2015-10-26].
  		Dostupné z: <\url{http://stackoverflow.com/questions/11958465/
  		what-is-best-way-to-store-mp3-files-in-server-storing-it-in-database-blob}>.
  		
  		\bibitem{rumanov12}
  		Rumanovský, Jakub.
  		\emph{Systém na trénovanie diktátov}
  		Brno, 
  		2012
  		Dostupné z: <\url{http://is.muni.cz/th/359581/fi_b/Bakalarka_FI_nal.pdf}>.
  		Bakalárska práca. Masarykova Univerzita.
  		
  		\bibitem{skvaril14}
  		Škvařil, Vojtěch.
  		\emph{Návrh algoritmu pro vyhodnocení bezkontextových pravopisných chyb}
  		Brno, 
  		2014
  		Dostupné z: <\url{http://is.muni.cz/th/399486/ff_b/BAKALARSKA_PRACE_27._6..pdf}>.
  		Bakalárska práca. Masarykova Univerzita.
  		
  		\bibitem{diffmatchpatch}
  		Google, Inc.
  		\emph{API Google-diff-match-patch}
  		[online].
  		2011
  		[cit. 2015-10-29].
  		Dostupné z: <\url{http://code.google.com/p/google-diff-match-patch/wiki/API}>.
  		
  		\bibitem{mozilla2015}
  		Mozilla Developer Network.
  		\emph{HTTP access control (CORS)}
  		[online].
  		2015
  		[cit. 2015-11-01].
  		Dostupné z: <\url{https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS}>.
  		
  		\bibitem{w3c2014}
  		W3C.
  		\emph{Cross-Origin Resource Sharing}
  		[online].
  		2014
  		[cit. 2015-11-01].
  		Dostupné z: <\url{http://www.w3.org/TR/cors/}>.
  		
  		\bibitem{sof2}
  		Stack Exchange Inc.
  		\emph{CORS angular js + restEasy on POST}
  		[online].
  		2014
  		[cit. 2015-11-01].
  		Dostupné z: <\url{http://stackoverflow.com/questions/22849972/cors-angular-js-resteasy-on-post}>.
		  	
	  	\bibitem{dzhuvinov15}
  		Dzhuvinov, Vladimir.
  		\emph{CORS Filter : Cross-Origin Resource Sharing for Your Java Web Apps}
  		[online].
  		2015
  		[cit. 2015-11-01].
  		Dostupné z: <\url{http://software.dzhuvinov.com/cors-filter-configuration.html}>.	  		
 		
 		\bibitem{sof3}
  		Stack Exchange Inc.
  		\emph{How to enable Cross domain requests on JAX-RS web services?}
  		[online].
  		2014
  		[cit. 2015-11-01].
  		Dostupné z: <\url{http://stackoverflow.com/questions/23450494/how-to-enable-cross-domain-requests-on-jax-rs-web-services}>.
 		
 		\bibitem{matei14}
  		Matei, Adrian.
  		\emph{How to add CORS support on the server side in Java with Jersey}
  		[online].
  		2014
  		[cit. 2015-11-01].
  		Dostupné z: <\url{http://www.codingpedia.org/ama/how-to-add-cors-support-on-the-server-side-in-java-with-jersey/}>.
  		
  		\bibitem{sof4}
  		Stack Exchange Inc.
  		\emph{When is it safe to enable CORS?}
  		[online].
  		2015
  		[cit. 2015-11-01].
  		Dostupné z: <\url{http://stackoverflow.com/questions/9713644/when-is-it-safe-to-enable-cors}>.
  		
  		\bibitem{spaghetti14}
  		Mitica, Gabrielle.
  		\emph{AngularJS and Basic Auth}
  		[online].
  		2014
  		[cit. 2015-11-01].
  		Dostupné z: <\url{http://spaghetti.io/cont/article/angularjs-and-basic-auth/12/1.html}>.
  		
  		\bibitem{watmore14}
  		Watmore, Jason.
  		\emph{AngularJS Basic HTTP Authentication Example}
  		[online].
  		2014
  		[cit. 2015-11-02].
  		Dostupné z: <\url{http://jasonwatmore.com/post/2014/05/26/AngularJS-Basic-HTTP-Authentication-Example.aspx}>.
  		
  		 \bibitem{wasson13}
  		Wasson, Mike.
  		\emph{ASP.NET - Single-Page Applications: Build Modern, Responsive Web Apps with ASP.NET}
  		[online].
  		2013
  		[cit. 2015-12-15].
  		Dostupné z: <\url{https://msdn.microsoft.com/en-us/magazine/dn463786.aspx}>.
  		
  		\bibitem{postgre15}
  		PostgreSQL.
  		\emph{PostgreSQL: About}
  		[online].
  		2015
  		[cit. 2015-12-15].
  		Dostupné z: <\url{http://www.postgresql.org/about/}>.
  		
  		\bibitem{prasilova14}
  		Prášilová, Romana.
  		\emph{Návrh algoritmu pro vyhodnocení bezkontextových pravopisných chyb}
  		České Budějovice, 
  		2014
  		Dostupné z: <\url{http://theses.cz/id/29k3zb/DP-Prilov.pdf}>.
  		Diplomová práca. Jihočeská univerzita v Českých Budějovicích.
  		
  		\bibitem{majka}
		DOPLNIT CITACIU
  		Dostupné z: <\url{xyz}>.
  		
  		\bibitem{nlpfi}
  		DOPLN.
  		\emph{DOPLN}
  		[online].
  		2050
  		[cit. 2015-11-13].
  		Dostupné z: <\url{https://nlp.fi.muni.cz/projekty/ajka/tags.pdf}>.
  		
  		\bibitem{arlow11}
  		ARLOW, J., NEUSTADT
  		\emph{UML 2 a unifikovaný proces vývoje aplikací.}
  		[online].
  		I. 2011. 28 s.
		Computer Press. ISBN 978-80-251-1503-9. 
  		
  		\bibitem{hades14}
  		Cavalheiro, Vasco.
  		\emph{The Java Origins of Angular JS: Angular vs JSF vs GWT}
  		[online].
  		2014
  		[cit. 2015-12-29].
  		Dostupné z: <\url{http://blog.jhades.org/the-java-origins-of-angular-js-angular-vs-jsf-vs-gwt/}>.
  		
  		\bibitem{yt14}
  		Woloski, M., Gontovnikas, M.
  		\emph{Make your Angular app a max security prison}
  		[online].
  		2014
  		[cit. 2015-12-29].
  		Dostupné z: <\url{https://www.youtube.com/watch?v=lDb_GANDR8U}>.
  		
  		\bibitem{jwtrfc}
  		Jones, M., Bradley, J. B., Sakimura, N.
  		\emph{JSON Web Token (JWT) RFC-7519}
  		[online].
  		2015
  		[cit. 2015-12-29].
  		Dostupné z: <\url{http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html}>.
 		
 		\bibitem{carvajal14}
  		Carvajal, Ignacio Nieto.
  		\emph{Building your own REST API with OAuth 2.0}
  		[online].
  		2014
  		[cit. 2015-12-30].
  		Dostupné z: <\url{http://digitalleaves.com/blog/2014/05/building-your-own-rest-api-with-oauth-2-0-i-the-basics/}>.
  		
  		\bibitem{angularudemy}
  		Alicea, Anthony.
  		\emph{Learn and Understand AngularJS}
  		[online].
  		2015
  		[cit. 2016-01-01].
  		Dostupné z: <\url{https://www.udemy.com/learn-angularjs/}>.
  		
  		\bibitem{w3c-bootstrap}
  		W3C School.
  		\emph{Bootstrap 3 Tutorial}
  		[online].
  		2015
  		[cit. 2016-01-01].
  		Dostupné z: <\url{http://www.w3schools.com/bootstrap/}>.
  		
  		\bibitem{sof5}
  		Stack Exchange Inc.
  		\emph{What is an integration test exactly?}
  		[online].
  		2015
  		[cit. 2016-01-01].
  		Dostupné z: <\url{http://programmers.stackexchange.com/questions/48237/what-is-an-integration-test-exactly}>.
  		
  		\bibitem{fileupload}
  		GitHub, Inc.
  		\emph{Ng-file-upload}
  		[online].
  		2015
  		[cit. 2016-01-03].
  		Dostupné z: <\url{https://github.com/danialfarid/ng-file-upload}>.
  		
  		\bibitem{wavesurfer14}
  		GitHub, Inc.
  		\emph{DetectRegions - Issue \#307 - wavesurfer.js}
  		[online].
  		2014
  		[cit. 2016-01-03].
  		Dostupné z: <\url{https://github.com/katspaugh/wavesurfer.js/issues/307}>.
  		
  		
  		http://goldfirestudios.com/blog/104/howler.js-Modern-Web-Audio-Javascript-Library
  		http://stackoverflow.com/questions/22684037/how-to-configure-wildfly-to-serve-static-content-like-images
  		https://blog.openshift.com/multipart-forms-and-file-uploads-with-tomcat-7/
  		http://stackoverflow.com/questions/32008182/wildfly-9-http-to-https
  		https://forums.openshift.com/changes-to-standalonexml-file
  		
  		  			
	\end{thebibliography} 
	
    \appendix
    \chapter{Používateľský manuál} 	  % Appendices

      \section{Rozhranie slúžiace na opravu diktátov} \label{navod_oprava}
      \par V nasledujúcej podkapitole bude popísané REST rozhranie spolu s korektným telom požiadavky a telom odpovede.
%tablebegin
\begin{table}[htbp]
\centering
\begin{tabular}{@{}|c|c|c|c|@{}}
\hline
\textbf{HTTP metóda} & \textbf{Cesta} & \textbf{Povolené role} & \textbf{Návratový kód}  \\ \hline
           POST     &  /api/correctDictate         &     neautorizovaný       &    201        \\ \hline
\end{tabular}
\caption{Popis rozhrania na opravu diktátu}
\label{rozhranie-oprava}
\end{table}
%tableend
%listingbegin
\lstset{language=Java}          % Set your language (you can change the language for each code-block optionally)
\begin{lstlisting}[frame=single]  % Start your code-block

{ 
	transcriptText: String,
	userText: String
}
\end{lstlisting}
\captionof{lstlisting}{Telo požiadavky}
%listingend
%listingbegin
\bigskip
\lstset{language=Java}          % Set your language (you can change the language for each code-block optionally)
\begin{lstlisting}[frame=single]  % Start your code-block

{ 
	totalMistakes: Integer,
	mistakes: 
		[{ 
		  id: Long,
		  mistakeCharPosInWord: Integer,
		  correctChars: String,
		  writtenChars: String,
		  correctWord: String,
		  writtenWord: String,
		  wordPosition: Integer,
		  lemma: String,
		  posTag: String,
		  sentence: String,
		  priority: Long,
		  mistakeType: String,
		  mistakeDescription: String 	
		}
		{
		...
		}]	
}
\end{lstlisting}
\captionof{lstlisting}{Telo odpovede}
%listingend
\bigskip
\par Viac o tom, čo jednotlivé atribúty znamenajú je uvedené v kapitole \ref{modul-diktaty}.


      \section{Manuál ku grafickému užívateľskému rozhraniu}
    \chapter{Snímky obrazoviek}
    \chapter{Zoznam jednotlivých typov chýb} \label{typy-chyb}
    \par Nižšie je uvedený zoznam možných typov chýb, ktorý bol jedným z výstupov bakalárskej práce Vojtěcha Škvařila\cite{skvaril14} v poradí, v akom sa vyskytol v priloženom pseudokóde popisujúcom jednotlivé pravidlá.
	\par \bigskip \textbf{Pravopis:}
\begin{itemize}
	\item Vyjmenovaná slova
	\item Psaní i/y po písmenu c
	\item Psaní předpon s-, z-
	\item Psaní předložek s, z (z postele, s knihou, s sebou)
	\item Pravopis a výslovnost přejatých slov se s – z
	\item Psaní dis-, dys-
	\item Psaní slov se zakončením -manie
	\item Psaní n – nn
	\item Psaní spřežek a spřahování
	\item Složená přídavná jména - První část přídavného jména je zakončena na -sko, -cko, -ně nebo –ově
	\item Velká písmena
\end{itemize}
\bigskip
	\textbf{Slovotvorba:}
\begin{itemize}
	\item Přídavná jména zakončená na -icí – -ící
	\item Přídavná jména zakončená na -ní – -ný
	\item Typ ačkoli – ačkoliv, kdokoli – kdokoliv
	\item Vokalizace předložek
\end{itemize}
\bigskip
	\textbf{Jevy, které nejsou v Akademické příručce českého jazyka přímo uvedeny:}
\begin{itemize}
	\item Zájmena typu vaši/vaší, ji/jí, ni/ní
	\item Psaní bě/bje, vě/vje, pě
	\item Souhlásky párové
	\item Diakritika
	\item i/í po měkkých a obojetných souhláskách
	\item Zájmena mně x mě a slova obsahující mě a mně
\end{itemize}

\par K týmto typom je naviac pridaný typ nadbytočného resp. chýbajúceho slova.
\par \bigskip
	\textbf{Pridané typy ktoré nie sú v bakalárskej práci uvedené:}
\begin{itemize}
	\item Chybějící slovo
	\item Nadbytečné slovo
	\item Ostatní
\end{itemize}

\chapter{Obsah CD}
    
\end{document}
